{% extends "base.html" %}
{% block content %}
<div class="bg-white shadow-sm rounded-lg p-6">
  <form id="yt-form" class="space-y-4">
    <label class="block">
      <span class="text-sm font-medium text-slate-700">YouTube URL</span>
      <input name="yt_url" type="url" required placeholder="https://www.youtube.com/watch?v=..."
             class="mt-1 w-full rounded border-slate-300 focus:ring-2 focus:ring-indigo-500"/>
    </label>

    <details class="rounded border p-4">
      <summary class="cursor-pointer font-medium">Advanced options</summary>
      <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-4">
        <label class="block">
          <span class="text-sm">Target language (optional)</span>
          <input name="target_lang" type="text" placeholder="en, hi, ... (auto if empty)"
                 class="mt-1 w-full rounded border-slate-300"/>
        </label>
        <label class="block">
          <span class="text-sm">Summary length</span>
          <select name="length" class="mt-1 w-full rounded border-slate-300">
            <option value="short">Short</option>
            <option value="medium" selected>Medium</option>
            <option value="detailed">Detailed</option>
          </select>
        </label>
        <label class="block">
          <span class="text-sm">Style</span>
          <select name="style" class="mt-1 w-full rounded border-slate-300">
            <option value="bullets" selected>Bullets</option>
            <option value="narrative">Narrative</option>
          </select>
        </label>
        <label class="block flex items-center gap-2">
          <input type="checkbox" name="translate" class="rounded border-slate-300" />
          <span class="text-sm">Translate to English</span>
        </label>
      </div>
    </details>

    <button type="submit"
            class="inline-flex items-center gap-2 rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700">
      <span>Transcribe & Summarize</span>
    </button>
  </form>

  <div id="loader" class="mt-6 hidden text-indigo-700">Processing... please wait.</div>

  <div id="results" class="mt-6 hidden space-y-4">
    <div id="video"></div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="bg-slate-50 p-4 rounded">
        <h3 class="font-semibold mb-2">Summary</h3>
        <div id="summary" class="prose"></div>
      </div>
      <div class="bg-slate-50 p-4 rounded">
        <h3 class="font-semibold mb-2">Transcript</h3>
        <div id="transcript" class="max-h-96 overflow-auto text-sm whitespace-pre-wrap"></div>
      </div>
    </div>
  </div>
</div>
{% endblock %}